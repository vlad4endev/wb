# –û—Ç—á–µ—Ç –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ –¥–æ—Å—Ç—É–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚úÖ

**–§–∞–π–ª**: `src/app/api/settings/telegram/admin/route.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –£–±—Ä–∞–Ω–∞ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ `DEVELOPER` –∏ `ADMIN`
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ë—ã–ª–æ**:
```typescript
const ADMIN_USER_ID = 'cmf8sg2w8000085vkomhit4hv';
if (!user || user.id !== ADMIN_USER_ID) {
  return NextResponse.json({ error: 'Access denied' }, { status: 403 });
}
```

**–°—Ç–∞–ª–æ**:
```typescript
if (user.role !== 'DEVELOPER' && user.role !== 'ADMIN') {
  return NextResponse.json({ error: 'Access denied. Developer role required.' }, { status: 403 });
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚úÖ

**–§–∞–π–ª**: `src/app/settings/page.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `UserProfile` —Å –ø–æ–ª—è–º–∏ `role` –∏ `isProtected`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–æ–ª–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–æ–ª–µ–π:
  - **DEVELOPER**: –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –±–µ–π–¥–∂
  - **ADMIN**: –ö—Ä–∞—Å–Ω—ã–π –±–µ–π–¥–∂  
  - **USER**: –°–µ—Ä—ã–π –±–µ–π–¥–∂
- –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—â–∏—Ç—ã –∞–∫–∫–∞—É–Ω—Ç–∞
- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

**–ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**:
```typescript
{profile && (
  <div className="mb-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border">
    <div className="flex items-center justify-between">
      <div>
        <h4 className="font-medium">–†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h4>
        <p className="text-sm text-gray-600">
          –í–∞—à–∞ —Ä–æ–ª—å –≤ —Å–∏—Å—Ç–µ–º–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        </p>
      </div>
      <div className="flex items-center space-x-2">
        <Badge variant="default" className="bg-purple-100 text-purple-800">
          –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
        </Badge>
        <Badge variant="outline" className="text-green-600">
          –ó–∞—â–∏—â–µ–Ω
        </Badge>
      </div>
    </div>
    {profile.role === 'DEVELOPER' && (
      <div className="mt-2 text-sm text-purple-600">
        ‚úì –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º Telegram<br/>
        ‚úì –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π<br/>
        ‚úì –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
      </div>
    )}
  </div>
)}
```

### 3. –°–æ–∑–¥–∞–Ω API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚úÖ

**–§–∞–π–ª**: `src/app/api/admin/update-user-role/route.ts`

**–§—É–Ω–∫—Ü–∏–∏**:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞—â–∏—Ç—ã –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ DEVELOPER/ADMIN)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 4. –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–æ–ª–∏ ‚úÖ

**–§–∞–π–ª—ã**:
- `update-user-role.js` - —á–µ—Ä–µ–∑ Prisma –Ω–∞–ø—Ä—è–º—É—é
- `update-user-simple.js` - —á–µ—Ä–µ–∑ API
- `set-developer-role.js` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram:
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
- ‚úÖ **–®–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞—â–∏—Ç—ã –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∏ –æ—à–∏–±–∫–∏

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### 1. –û–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
cd wb-slots
node set-developer-role.js
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
npm run dev
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ `http://localhost:3000/settings`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–æ–ª—å "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ `http://localhost:3000/settings/telegram`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–∫–ª–∞–¥–∫–µ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞"

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º Telegram** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –≤ –ø—Ä–æ—Ñ–∏–ª–µ
‚úÖ **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** —Ä–æ–ª–µ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–≤
‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è** –¥–ª—è –≤–∞–∂–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞! üöÄ
