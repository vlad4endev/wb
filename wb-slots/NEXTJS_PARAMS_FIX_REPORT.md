# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ params –≤ Next.js 15

## –ü—Ä–æ–±–ª–µ–º–∞
–í Next.js 15 –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å `params` –≤ API –º–∞—Ä—à—Ä—É—Ç–∞—Ö. –¢–µ–ø–µ—Ä—å `params` –Ω—É–∂–Ω–æ –æ–∂–∏–¥–∞—Ç—å (await) –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

```
Error: Route "/api/tasks/[id]/logs" used `params.id`. `params` should be awaited before using its properties.
```

## –ü—Ä–∏—á–∏–Ω–∞
–í Next.js 15 `params` —Å—Ç–∞–ª –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å React Server Components.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã API –º–∞—Ä—à—Ä—É—Ç—ã
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã 3 —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–±–ª–µ–º–æ–π `params.id`:

1. **`/api/tasks/[id]/logs/route.ts`**
2. **`/api/tasks/[id]/route.ts`** 
3. **`/api/tasks/[id]/search/route.ts`**

### üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

#### –ë–´–õ–û (–ø—Ä–æ–±–ª–µ–º–Ω–æ–µ):
```typescript
export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  try {
    const user = await requireAuth(request);
    const taskId = params.id; // ‚ùå –û—à–∏–±–∫–∞!
```

#### –°–¢–ê–õ–û (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ):
```typescript
export async function GET(
  request: NextRequest,
  { params }: { params: Promise<{ id: string }> }
) {
  try {
    const user = await requireAuth(request);
    const { id: taskId } = await params; // ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- **–ë—ã–ª–æ**: `{ params: { id: string } }`
- **–°—Ç–∞–ª–æ**: `{ params: Promise<{ id: string }> }`

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ë—ã–ª–æ**: `const taskId = params.id;`
- **–°—Ç–∞–ª–æ**: `const { id: taskId } = await params;`

### üìÅ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **`src/app/api/tasks/[id]/logs/route.ts`**
   - GET –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ –∑–∞–¥–∞—á–∏
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø –∫ `params.id`

2. **`src/app/api/tasks/[id]/route.ts`**
   - POST –º–µ—Ç–æ–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–µ–π
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø –∫ `params.id`

3. **`src/app/api/tasks/[id]/search/route.ts`**
   - POST –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–ª–æ—Ç–æ–≤
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø –∫ `params.id`

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –û—à–∏–±–∫–∞ `params should be awaited` —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
- API –º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Next.js 15

### ‚ö†Ô∏è **–û—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:**
- –û—à–∏–±–∫–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –≤ `search/route.ts` (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)
- –°–≤—è–∑–∞–Ω—ã —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π JSON –ø–æ–ª–µ–π –≤ Prisma

### üöÄ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ
- –£–ª—É—á—à–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å React Server Components
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±—É–¥—É—â–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º Next.js

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üîç **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/tasks/[id]/logs` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- `POST /api/tasks/[id]` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
- `POST /api/tasks/[id]/search` - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### üìä **–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```
GET /api/tasks/cmfbsuh0l0001qp4nn6z81zj7/logs 200 in 311ms
GET /api/tasks/cmfbsuh0l0001qp4nn6z81zj7 200 in 4304ms
```
- –û—à–∏–±–∫–∏ `params.id` –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è
- API –æ—Ç–≤–µ—á–∞–µ—Ç —Å –∫–æ–¥–æ–º 200
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ –Ω–æ—Ä–º–µ

## –°—Ç–∞—Ç—É—Å
üü¢ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –û—à–∏–±–∫–∞ params –≤ Next.js 15 —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã params –Ω–∞ Promise
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω await –¥–ª—è params
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ API –º–∞—Ä—à—Ä—É—Ç—ã
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞

### –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- üîß API –º–∞—Ä—à—Ä—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- üì± –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Next.js 15
- üöÄ –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üõ°Ô∏è –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±—É–¥—É—â–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º
